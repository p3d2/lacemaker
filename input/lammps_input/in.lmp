# LAMMPS Input Script

# Initialization
units           lj
atom_style      molecular
boundary        m m m  # Non-periodic boundary conditions in all directions

# Atom Definition
read_data       yarns.txt

# Force Field Settings
#pair_style soft 1.0
#pair_coeff * * 50.0

pair_style lj/cut 1.0
pair_coeff * * 1.0 0.0
pair_modify shift yes
comm_modify cutoff 3.5

bond_style      harmonic
angle_style 	harmonic

# Dump command to output atom positions to a file
compute			perAtomPE all pe/atom
dump myDump all custom 1000 output/simulations/pattern1_0.25_1.0_2.5_30.0_50.0.lammpstrj id type x y z fx fy fz c_perAtomPE

# Fixes
variable dist equal 2.0
region left_block block EDGE EDGE+xlo+${dist} EDGE EDGE EDGE EDGE units box
region right_block block EDGE+xhi-${dist} EDGE EDGE EDGE EDGE EDGE units box
region bottom_block block EDGE EDGE EDGE EDGE+ylo+${dist} EDGE EDGE units box
region top_block block EDGE EDGE EDGE+yhi-${dist} EDGE EDGE EDGE units box
group left_wall region left_block
group right_wall region right_block
group bottom_wall region bottom_block
group top_wall region top_block
group boundary union left_wall right_wall bottom_wall top_wall

fix freezef boundary setforce 0.0 0.0 0.0
fix dragU all viscous 0.1
fix nve_all all nve

# Minimization to relax initial configuration
minimize 1.0e-6 1.0e-7 10000 100000

neigh_modify every 100

# Integrator Settings
timestep        0.01
thermo          1000
thermo_style    custom step temp pe ke etotal

# Run

run 10000

write_restart output/simulations/sim1.restart